<html>

<script type="text/javascript">

    var ws;

    function connect() {
        ws = new WebSocket( "ws://192.168.0.5:9999" )

        ws.onopen = function() {
            console.log( "WebSocket connected" )
            document.getElementById( "sendMsgButton" ).disabled = false
        }

        ws.onmessage = function( evt ) {
            console.log("<<" + evt.data );
            document.getElementById("chatOut").value = document.getElementById("chatOut").value + "\n" + evt.data
        }

        ws.onclose = function() {
            console.log( "Websocket cloded by server" )
            document.getElementById( "chatOut" ).value = document.getElementById( "chatOut" ).value + "\n" + "Websocket closed by server"
        }
    }

    function disconnect() {
        if( ws != null ){
            ws.close()
        }
    }

    function sendMessage() {
        var msg = document.getElementById( "chatMsg" ).value;
        console.log(">> " + msg);
        ws.send(msg);
        document.getElementById( "chatMsg" ).value = "";
    }

</script>
<body>
    <h1>WS Client</h1>

    <div id="buttons">
        <button id="connectButton"  onclick="connect()">Connect</button>
        <button id="disconnectButton" onclick="disconnect()">Disconnect</button>
        <button id="sendMsgButton" disabled="true" onclick="sendMessage()">Send</button>

        <input id="chatMsg" type="text"></input
    </div>

    <div id="textAreas">
        <textarea id="chatOut" cols="30" rows="15" style="width: 100px"></textarea>
        <textarea id="streamOut" cols="30" rows="15" style="width: 100px"></textarea>

    </div>
</body>
</html>